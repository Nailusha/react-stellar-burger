{"ast":null,"code":"import _slicedToArray from\"C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./burger-ingredient.module.css\";import{useDrag}from\"react-dnd\";import{Counter,CurrencyIcon}from\"@ya.praktikum/react-developer-burger-ui-components\";import{useAppDispatch}from\"../../../../services/hooks/hooks\";import{clickOpen}from\"../../../../services/store/reducers/modalOverlaySlice\";import{addIngredDetails,clickIngredient}from\"../../../../services/store/reducers/ingredientDetails\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function IngredientCard(_ref){var ingredient=_ref.ingredient;var _useDrag=useDrag({type:\"ingredient\",item:ingredient}),_useDrag2=_slicedToArray(_useDrag,2),refDrag=_useDrag2[1];var dispatch=useAppDispatch();var onClick=function onClick(){dispatch(clickIngredient(true));dispatch(addIngredDetails(ingredient));dispatch(clickOpen(true));};return ingredient&&/*#__PURE__*/_jsxs(\"div\",{className:styles.card,ref:refDrag,draggable:true,\"data-test_id\":ingredient._id,children:[ingredient.count>0&&/*#__PURE__*/_jsx(Counter,{count:ingredient.type===\"bun\"?ingredient.count*2:ingredient.count}),/*#__PURE__*/_jsx(\"img\",{className:styles.image,src:ingredient.image,onClick:onClick}),/*#__PURE__*/_jsxs(\"span\",{className:\"text_type_main-default pt-1 \"+styles.price,children:[ingredient.price,/*#__PURE__*/_jsx(CurrencyIcon,{type:\"primary\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text_type_main-default \"+styles.name+\" pt-1\",children:ingredient.name})]});}export default IngredientCard;","map":{"version":3,"names":["styles","useDrag","Counter","CurrencyIcon","useAppDispatch","clickOpen","addIngredDetails","clickIngredient","jsx","_jsx","jsxs","_jsxs","IngredientCard","_ref","ingredient","_useDrag","type","item","_useDrag2","_slicedToArray","refDrag","dispatch","onClick","className","card","ref","draggable","_id","children","count","image","src","price","name"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/BurgerIngredients/burger-ingridient/burger-ingredient.tsx"],"sourcesContent":["import styles from \"./burger-ingredient.module.css\";\r\nimport { useDrag } from \"react-dnd\";\r\n\r\nimport { Counter, CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../../services/hooks/hooks\";\r\nimport { clickOpen } from \"../../../../services/store/reducers/modalOverlaySlice\";\r\nimport { addIngredDetails, clickIngredient, counter } from \"../../../../services/store/reducers/ingredientDetails\";\r\nimport { TConstructorCard, TingredintsConstructor } from \"../../../../utils/types\";\r\n\r\ntype Tingredient = {\r\n  ingredient: TingredintsConstructor;\r\n};\r\n\r\nfunction IngredientCard({ ingredient }: Tingredient) {\r\n  const [, refDrag] = useDrag({\r\n    type: \"ingredient\",\r\n    item: ingredient,\r\n  });\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const onClick = () => {\r\n    dispatch(clickIngredient(true));\r\n    dispatch(addIngredDetails(ingredient));\r\n    dispatch(clickOpen(true));\r\n  };\r\n\r\n  return (\r\n    ingredient && (\r\n      <div className={styles.card} ref={refDrag} draggable data-test_id={ingredient._id}>\r\n        {ingredient.count > 0 && (\r\n          <Counter\r\n            count={\r\n              ingredient.type === \"bun\"\r\n                ? ingredient.count * 2\r\n                : ingredient.count\r\n            }\r\n          />\r\n        )}\r\n        <img\r\n          className={styles.image}\r\n          src={ingredient.image}\r\n          onClick={onClick}\r\n        />\r\n        <span className={\"text_type_main-default pt-1 \" + styles.price}>\r\n          {ingredient.price}\r\n          <CurrencyIcon type={\"primary\"} />\r\n        </span>\r\n        <p className={\"text_type_main-default \" + styles.name + \" pt-1\"}>\r\n          {ingredient.name}\r\n        </p>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nexport default IngredientCard;"],"mappings":"+IAAA,MAAO,CAAAA,MAAM,KAAM,gCAAgC,CACnD,OAASC,OAAO,KAAQ,WAAW,CAEnC,OAASC,OAAO,CAAEC,YAAY,KAAQ,oDAAoD,CAC1F,OAASC,cAAc,KAAwB,kCAAkC,CACjF,OAASC,SAAS,KAAQ,uDAAuD,CACjF,OAASC,gBAAgB,CAAEC,eAAe,KAAiB,uDAAuD,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAOnH,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAA8B,IAA3B,CAAAC,UAAU,CAAAD,IAAA,CAAVC,UAAU,CAClC,IAAAC,QAAA,CAAoBd,OAAO,CAAC,CAC1Be,IAAI,CAAE,YAAY,CAClBC,IAAI,CAAEH,UACR,CAAC,CAAC,CAAAI,SAAA,CAAAC,cAAA,CAAAJ,QAAA,IAHOK,OAAO,CAAAF,SAAA,IAKhB,GAAM,CAAAG,QAAQ,CAAGjB,cAAc,EAAE,CAEjC,GAAM,CAAAkB,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpBD,QAAQ,CAACd,eAAe,CAAC,IAAI,CAAC,CAAC,CAC/Bc,QAAQ,CAACf,gBAAgB,CAACQ,UAAU,CAAC,CAAC,CACtCO,QAAQ,CAAChB,SAAS,CAAC,IAAI,CAAC,CAAC,CAC3B,CAAC,CAED,MACE,CAAAS,UAAU,eACRH,KAAA,QAAKY,SAAS,CAAEvB,MAAM,CAACwB,IAAK,CAACC,GAAG,CAAEL,OAAQ,CAACM,SAAS,MAAC,eAAcZ,UAAU,CAACa,GAAI,CAAAC,QAAA,EAC/Ed,UAAU,CAACe,KAAK,CAAG,CAAC,eACnBpB,IAAA,CAACP,OAAO,EACN2B,KAAK,CACHf,UAAU,CAACE,IAAI,GAAK,KAAK,CACrBF,UAAU,CAACe,KAAK,CAAG,CAAC,CACpBf,UAAU,CAACe,KAChB,EAEJ,cACDpB,IAAA,QACEc,SAAS,CAAEvB,MAAM,CAAC8B,KAAM,CACxBC,GAAG,CAAEjB,UAAU,CAACgB,KAAM,CACtBR,OAAO,CAAEA,OAAQ,EACjB,cACFX,KAAA,SAAMY,SAAS,CAAE,8BAA8B,CAAGvB,MAAM,CAACgC,KAAM,CAAAJ,QAAA,EAC5Dd,UAAU,CAACkB,KAAK,cACjBvB,IAAA,CAACN,YAAY,EAACa,IAAI,CAAE,SAAU,EAAG,GAC5B,cACPP,IAAA,MAAGc,SAAS,CAAE,yBAAyB,CAAGvB,MAAM,CAACiC,IAAI,CAAG,OAAQ,CAAAL,QAAA,CAC7Dd,UAAU,CAACmB,IAAI,EACd,GAEP,CAEL,CAEA,cAAe,CAAArB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}