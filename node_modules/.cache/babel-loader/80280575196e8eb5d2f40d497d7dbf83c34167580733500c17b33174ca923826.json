{"ast":null,"code":"import React from\"react\";import styles from\"./modal.module.css\";import ReactDom from\"react-dom\";import{useNavigate,useParams}from\"react-router-dom\";import{CloseIcon}from\"@ya.praktikum/react-developer-burger-ui-components\";import ModalOverlay from\"../modal-overlay/modal-overlay\";import{clickOpen}from\"../../services/store/reducers/modalOverlaySlice\";import{clickDetails}from\"../../services/store/reducers/orderDetailsSlice\";import{useAppDispatch}from\"../../services/hooks/hooks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var modalRoot=document.getElementById(\"react-modal\");function Modal(_ref){var children=_ref.children,_ref$isLink=_ref.isLink,isLink=_ref$isLink===void 0?true:_ref$isLink;var navigate=useNavigate();var params=useParams();console.log(params._id);var closeModal=function closeModal(){dispatch(clickOpen(false));dispatch(clickDetails(false));isLink&&navigate(-1);};var dispatch=useAppDispatch();React.useEffect(function(){function onEsc(event){if(event.code===\"Escape\"){closeModal();}}document.addEventListener(\"keydown\",onEsc);return function(){return document.removeEventListener(\"keydown\",onEsc);};},[]);return/*#__PURE__*/ReactDom.createPortal(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.modal,\"data-test\":'modal',children:[/*#__PURE__*/_jsx(\"div\",{className:styles.close_icon,\"data-test\":'close',children:/*#__PURE__*/_jsx(CloseIcon,{onClick:closeModal,type:\"primary\"})}),children]}),/*#__PURE__*/_jsx(ModalOverlay,{closeModal:closeModal})]}),modalRoot);}export default Modal;","map":{"version":3,"names":["React","styles","ReactDom","useNavigate","useParams","CloseIcon","ModalOverlay","clickOpen","clickDetails","useAppDispatch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","modalRoot","document","getElementById","Modal","_ref","children","_ref$isLink","isLink","navigate","params","console","log","_id","closeModal","dispatch","useEffect","onEsc","event","code","addEventListener","removeEventListener","createPortal","className","modal","close_icon","onClick","type"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/modal/modal.tsx"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./modal.module.css\";\r\nimport ReactDom, { createPortal } from \"react-dom\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport ModalOverlay from \"../modal-overlay/modal-overlay\";\r\nimport {clickOpen, clickOrderList } from \"../../services/store/reducers/modalOverlaySlice\";\r\nimport { clickDetails } from \"../../services/store/reducers/orderDetailsSlice\";\r\nimport { TWithChildren } from \"../../utils/types\";\r\nimport { useAppDispatch } from \"../../services/hooks/hooks\";\r\n\r\nconst modalRoot = document.getElementById(\"react-modal\")!;\r\n\r\ntype TisLink = {\r\n  isLink: boolean;\r\n}\r\n\r\nfunction Modal({ children, isLink = true}: TWithChildren<TisLink>) {\r\n  const navigate = useNavigate();\r\n  const params = useParams()\r\n  console.log(params._id)\r\n  const closeModal = () => {\r\n    dispatch(clickOpen(false)) \r\n    dispatch(clickDetails(false))\r\n    isLink&& navigate(-1)\r\n  };\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  React.useEffect(() => {\r\n    function onEsc(event: KeyboardEvent) {\r\n      if (event.code === \"Escape\") {\r\n        closeModal();\r\n      }\r\n    }\r\n    document.addEventListener(\"keydown\", onEsc);\r\n\r\n    return () => document.removeEventListener(\"keydown\", onEsc);\r\n  }, []);\r\n\r\n  return ReactDom.createPortal(\r\n    <>\r\n      <div className={styles.modal} data-test={'modal'}>\r\n        <div className={styles.close_icon} data-test={'close'}>\r\n          <CloseIcon onClick={closeModal} type={\"primary\"}/>\r\n        </div>\r\n        {children}\r\n      </div>\r\n      <ModalOverlay closeModal={closeModal} />\r\n    </>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nexport default Modal;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,oBAAoB,CACvC,MAAO,CAAAC,QAAQ,KAAwB,WAAW,CAClD,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CAEzD,OAASC,SAAS,KAAQ,oDAAoD,CAC9E,MAAO,CAAAC,YAAY,KAAM,gCAAgC,CACzD,OAAQC,SAAS,KAAwB,iDAAiD,CAC1F,OAASC,YAAY,KAAQ,iDAAiD,CAE9E,OAASC,cAAc,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE5D,GAAM,CAAAC,SAAS,CAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAE,CAMzD,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAqD,IAAlD,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAAC,WAAA,CAAAF,IAAA,CAAEG,MAAM,CAANA,MAAM,CAAAD,WAAA,UAAG,IAAI,CAAAA,WAAA,CACtC,GAAM,CAAAE,QAAQ,CAAGrB,WAAW,EAAE,CAC9B,GAAM,CAAAsB,MAAM,CAAGrB,SAAS,EAAE,CAC1BsB,OAAO,CAACC,GAAG,CAACF,MAAM,CAACG,GAAG,CAAC,CACvB,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvBC,QAAQ,CAACvB,SAAS,CAAC,KAAK,CAAC,CAAC,CAC1BuB,QAAQ,CAACtB,YAAY,CAAC,KAAK,CAAC,CAAC,CAC7Be,MAAM,EAAGC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACvB,CAAC,CAED,GAAM,CAAAM,QAAQ,CAAGrB,cAAc,EAAE,CAEjCT,KAAK,CAAC+B,SAAS,CAAC,UAAM,CACpB,QAAS,CAAAC,KAAKA,CAACC,KAAoB,CAAE,CACnC,GAAIA,KAAK,CAACC,IAAI,GAAK,QAAQ,CAAE,CAC3BL,UAAU,EAAE,CACd,CACF,CACAZ,QAAQ,CAACkB,gBAAgB,CAAC,SAAS,CAAEH,KAAK,CAAC,CAE3C,MAAO,kBAAM,CAAAf,QAAQ,CAACmB,mBAAmB,CAAC,SAAS,CAAEJ,KAAK,CAAC,GAC7D,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAO9B,QAAQ,CAACmC,YAAY,cAC1BxB,KAAA,CAAAE,SAAA,EAAAM,QAAA,eACER,KAAA,QAAKyB,SAAS,CAAErC,MAAM,CAACsC,KAAM,CAAC,YAAW,OAAQ,CAAAlB,QAAA,eAC/CV,IAAA,QAAK2B,SAAS,CAAErC,MAAM,CAACuC,UAAW,CAAC,YAAW,OAAQ,CAAAnB,QAAA,cACpDV,IAAA,CAACN,SAAS,EAACoC,OAAO,CAAEZ,UAAW,CAACa,IAAI,CAAE,SAAU,EAAE,EAC9C,CACLrB,QAAQ,GACL,cACNV,IAAA,CAACL,YAAY,EAACuB,UAAU,CAAEA,UAAW,EAAG,GACvC,CACHb,SAAS,CACV,CACH,CAEA,cAAe,CAAAG,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}