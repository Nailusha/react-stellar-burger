{"ast":null,"code":"import React from\"react\";import styles from\"./app-main.module.css\";import BurgerIngredientTab from\"../BurgerIngredients/burger-ingredient-tab/burger-ingredient-tab\";import BurgerConstructorAll from\"../BurgerConstructor/burger-constructor-all/burger-constructor-all\";import BurgerConstructor from\"../BurgerConstructor/burger-constructor\";import BurgerIngredients from\"../BurgerIngredients/burger-ingredient-head/burger-ingredient-head\";import{useRef}from'react';import{useDispatch,useSelector}from\"react-redux\";import{changeTypeTab}from\"../../services/store/reducers/ingredientsTab\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AppMain(){var dispatch=useDispatch();var bunRef=useRef(null);var sauceRef=useRef(null);var mainRef=useRef(null);var current=useSelector(function(state){return state.ingredientsTab.typeTab;});function handleTabClick(type){dispatch(changeTypeTab(type));switch(type){case\"bun\":bunRef.current.scrollIntoView({behavior:\"smooth\"});break;case\"sauce\":sauceRef.current.scrollIntoView({behavior:\"smooth\"});break;case\"main\":mainRef.current.scrollIntoView({behavior:\"smooth\"});break;default:break;}}function handleTab(evt){var target=evt.target;var scrollTop=target.scrollTop;var sauceScroll=sauceRef.current.getBoundingClientRect().y-bunRef.current.getBoundingClientRect().y-40;var mainScroll=mainRef.current.getBoundingClientRect().y-bunRef.current.getBoundingClientRect().y-40;if(scrollTop>=mainScroll){dispatch(changeTypeTab(\"main\"));}else if(scrollTop<sauceScroll){dispatch(changeTypeTab(\"bun\"));}else{dispatch(changeTypeTab(\"sauce\"));}}return/*#__PURE__*/_jsxs(\"main\",{className:styles.main,children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(BurgerIngredientTab,{current:current,handleTabClick:handleTabClick}),/*#__PURE__*/_jsxs(\"div\",{className:styles.main_ingredientBlock+\" custom-scroll\",onScroll:handleTab,children:[/*#__PURE__*/_jsx(\"div\",{ref:bunRef,children:/*#__PURE__*/_jsx(BurgerIngredients,{productName:\"Булки\",typeProduct:\"bun\"})}),/*#__PURE__*/_jsx(\"div\",{ref:sauceRef,children:/*#__PURE__*/_jsx(BurgerIngredients,{productName:\"Соусы\",typeProduct:\"sauce\"})}),/*#__PURE__*/_jsx(\"div\",{ref:mainRef,children:/*#__PURE__*/_jsx(BurgerIngredients,{productName:\"Начинки\",typeProduct:\"main\"})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"pt-25\",children:[/*#__PURE__*/_jsx(BurgerConstructor,{index:0}),/*#__PURE__*/_jsx(BurgerConstructorAll,{name:\"Оформить заказ\"})]})]});}export default AppMain;","map":{"version":3,"names":["React","styles","BurgerIngredientTab","BurgerConstructorAll","BurgerConstructor","BurgerIngredients","useRef","useDispatch","useSelector","changeTypeTab","jsx","_jsx","jsxs","_jsxs","AppMain","dispatch","bunRef","sauceRef","mainRef","current","state","ingredientsTab","typeTab","handleTabClick","type","scrollIntoView","behavior","handleTab","evt","target","scrollTop","sauceScroll","getBoundingClientRect","y","mainScroll","className","main","children","main_ingredientBlock","onScroll","ref","productName","typeProduct","index","name"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/app-main/app-main.jsx"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./app-main.module.css\";\r\n\r\nimport BurgerIngredientTab from \"../BurgerIngredients/burger-ingredient-tab/burger-ingredient-tab\";\r\nimport BurgerConstructorAll from \"../BurgerConstructor/burger-constructor-all/burger-constructor-all\";\r\nimport BurgerConstructor from \"../BurgerConstructor/burger-constructor\";\r\nimport BurgerIngredients from \"../BurgerIngredients/burger-ingredient-head/burger-ingredient-head\";\r\n\r\nimport { useRef } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeTypeTab } from \"../../services/store/reducers/ingredientsTab\";\r\n\r\nfunction AppMain() {\r\n  const dispatch = useDispatch();\r\n\r\n  const bunRef = useRef(null);\r\n  const sauceRef = useRef(null);\r\n  const mainRef = useRef(null);\r\n\r\n  const current = useSelector((state) => state.ingredientsTab.typeTab);\r\n\r\n  function handleTabClick(type) {\r\n    dispatch(changeTypeTab(type));\r\n\r\n    switch (type) {\r\n      case \"bun\":\r\n        bunRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        break;\r\n\r\n      case \"sauce\":\r\n        sauceRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        break;\r\n\r\n      case \"main\":\r\n        mainRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  function handleTab(evt) {\r\n    const target = evt.target;\r\n    const scrollTop = target.scrollTop;\r\n    const sauceScroll =\r\n      sauceRef.current.getBoundingClientRect().y -\r\n      bunRef.current.getBoundingClientRect().y -\r\n      40;\r\n    const mainScroll =\r\n      mainRef.current.getBoundingClientRect().y -\r\n      bunRef.current.getBoundingClientRect().y -\r\n      40;\r\n\r\n    if (scrollTop >= mainScroll) {\r\n      dispatch(changeTypeTab(\"main\"));\r\n    } else if (scrollTop < sauceScroll) {\r\n      dispatch(changeTypeTab(\"bun\"));\r\n    } else {\r\n      dispatch(changeTypeTab(\"sauce\"));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className={styles.main}>\r\n      <section>\r\n        <BurgerIngredientTab\r\n          current={current}\r\n          handleTabClick={handleTabClick}\r\n        />\r\n\r\n        <div\r\n          className={styles.main_ingredientBlock + \" custom-scroll\"}\r\n          onScroll={handleTab}\r\n        >\r\n          <div ref={bunRef}>\r\n            <BurgerIngredients productName={\"Булки\"} typeProduct={\"bun\"} />\r\n          </div>\r\n          <div ref={sauceRef}>\r\n            <BurgerIngredients productName={\"Соусы\"} typeProduct={\"sauce\"} />\r\n          </div>\r\n          <div ref={mainRef}>\r\n            <BurgerIngredients productName={\"Начинки\"} typeProduct={\"main\"} />\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className={\"pt-25\"}>\r\n        <BurgerConstructor index={0} />\r\n        <BurgerConstructorAll name={\"Оформить заказ\"} />\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default AppMain;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}