{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nailusha\\\\Desktop\\\\yandex-dev\\\\react-stellar-burger\\\\src\\\\components\\\\main\\\\app-main\\\\app-main.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useRef } from \"react\";\nimport styles from \"./app-main.module.css\";\nimport BurgerIngingredientsTab from \"../BurgerIngredients/burger-ingredient-tab/burger-ingredient-tab\";\nimport BurgerIngredients from \"../BurgerIngredients/burger-ingredient-head\";\nimport BurgerConstructorAll from \"../BurgerConstructor/burger-constructor-all/burger-constructor-all\";\nimport BurgerConstructor from \"../BurgerConstructor/burger-constructor\";\nimport { changeTypeTab } from \"../../../services/store/reducers/ingredientsTab\";\nimport { useAppDispatch, useAppSelector } from \"../../../services/hooks/hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AppMain() {\n  _s();\n  const dispatch = useAppDispatch();\n  const bunRef = useRef(null);\n  const sauceRef = useRef(null);\n  const mainRef = useRef(null);\n  const current = useAppSelector(state => state.ingredientsTab.typeTab);\n  function handleTabClick(type) {\n    dispatch(changeTypeTab(type));\n    switch (type) {\n      case \"bun\":\n        if (bunRef.current !== null) {\n          bunRef.current.scrollIntoView({\n            behavior: \"smooth\"\n          });\n        }\n        break;\n      case \"sauce\":\n        if (sauceRef.current !== null) {\n          sauceRef.current.scrollIntoView({\n            behavior: \"smooth\"\n          });\n        }\n        break;\n      case \"main\":\n        if (mainRef.current !== null) {\n          mainRef.current.scrollIntoView({\n            behavior: \"smooth\"\n          });\n        }\n        break;\n      default:\n        break;\n    }\n  }\n  function handleTab(evt) {\n    const target = evt.target;\n    const scrollTop = target.scrollTop;\n    if (sauceRef.current !== null && bunRef.current !== null && mainRef.current !== null) {\n      const sauceScroll = sauceRef.current.getBoundingClientRect().y - bunRef.current.getBoundingClientRect().y - 40;\n      const mainScroll = mainRef.current.getBoundingClientRect().y - bunRef.current.getBoundingClientRect().y - 40;\n      if (scrollTop >= mainScroll) {\n        dispatch(changeTypeTab(\"main\"));\n      } else if (scrollTop < sauceScroll) {\n        dispatch(changeTypeTab(\"bun\"));\n      } else {\n        dispatch(changeTypeTab(\"sauce\"));\n      }\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: styles.main,\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(BurgerIngingredientsTab, {\n        current: current,\n        handleTabClick: handleTabClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.main_ingredientBlock + \" custom-scroll\",\n        onScroll: handleTab,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: bunRef,\n          children: /*#__PURE__*/_jsxDEV(BurgerIngredients, {\n            productName: \"Булки\",\n            typeProduct: \"bun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: sauceRef,\n          children: /*#__PURE__*/_jsxDEV(BurgerIngredients, {\n            productName: \"Соусы\",\n            typeProduct: \"sauce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: mainRef,\n          children: /*#__PURE__*/_jsxDEV(BurgerIngredients, {\n            productName: \"Начинки\",\n            typeProduct: \"main\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"pt-25\",\n      children: [/*#__PURE__*/_jsxDEV(BurgerConstructor, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BurgerConstructorAll, {\n        name: \"Оформить заказ\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(AppMain, \"TJyYj9ibXBFXPukB2aEomUl8GO0=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n_c = AppMain;\nexport default AppMain;\nvar _c;\n$RefreshReg$(_c, \"AppMain\");","map":{"version":3,"names":["React","useRef","styles","BurgerIngingredientsTab","BurgerIngredients","BurgerConstructorAll","BurgerConstructor","changeTypeTab","useAppDispatch","useAppSelector","jsxDEV","_jsxDEV","AppMain","_s","dispatch","bunRef","sauceRef","mainRef","current","state","ingredientsTab","typeTab","handleTabClick","type","scrollIntoView","behavior","handleTab","evt","target","scrollTop","sauceScroll","getBoundingClientRect","y","mainScroll","className","main","children","fileName","_jsxFileName","lineNumber","columnNumber","main_ingredientBlock","onScroll","ref","productName","typeProduct","name","_c","$RefreshReg$"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/app-main/app-main.tsx"],"sourcesContent":["import React, { SyntheticEvent } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport styles from \"./app-main.module.css\";\r\n\r\nimport BurgerIngingredientsTab from \"../BurgerIngredients/burger-ingredient-tab/burger-ingredient-tab\";\r\nimport BurgerIngredients from \"../BurgerIngredients/burger-ingredient-head\";\r\nimport BurgerConstructorAll from \"../BurgerConstructor/burger-constructor-all/burger-constructor-all\";\r\nimport BurgerConstructor from \"../BurgerConstructor/burger-constructor\";\r\n\r\nimport { changeTypeTab } from \"../../../services/store/reducers/ingredientsTab\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../services/hooks/hooks\";\r\n\r\nfunction AppMain() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const bunRef = useRef<HTMLHeadingElement>(null);\r\n  const sauceRef = useRef<HTMLHeadingElement>(null);\r\n  const mainRef = useRef<HTMLHeadingElement>(null);\r\n\r\n  const current = useAppSelector((state) => state.ingredientsTab.typeTab);\r\n\r\n  function handleTabClick(type: string) {\r\n    dispatch(changeTypeTab(type));\r\n\r\n    switch (type) {\r\n      case \"bun\":\r\n        if (bunRef.current !== null) {\r\n          bunRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        }\r\n        break;\r\n\r\n      case \"sauce\":\r\n        if (sauceRef.current !== null) {\r\n          sauceRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        }\r\n        break;\r\n\r\n      case \"main\":\r\n        if (mainRef.current !== null) {\r\n          mainRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  function handleTab(evt: SyntheticEvent) {\r\n    const target = evt.target as HTMLDivElement;\r\n    const scrollTop = target.scrollTop;\r\n    if (\r\n      sauceRef.current !== null &&\r\n      bunRef.current !== null &&\r\n      mainRef.current !== null\r\n    ) {\r\n      const sauceScroll =\r\n        sauceRef.current.getBoundingClientRect().y -\r\n        bunRef.current.getBoundingClientRect().y -\r\n        40;\r\n      const mainScroll =\r\n        mainRef.current.getBoundingClientRect().y -\r\n        bunRef.current.getBoundingClientRect().y -\r\n        40;\r\n\r\n      if (scrollTop >= mainScroll) {\r\n        dispatch(changeTypeTab(\"main\"));\r\n      } else if (scrollTop < sauceScroll) {\r\n        dispatch(changeTypeTab(\"bun\"));\r\n      } else {\r\n        dispatch(changeTypeTab(\"sauce\"));\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className={styles.main}>\r\n      <section>\r\n        <BurgerIngingredientsTab\r\n          current={current}\r\n          handleTabClick={handleTabClick}\r\n        />\r\n        <div\r\n          className={styles.main_ingredientBlock + \" custom-scroll\"}\r\n          onScroll={handleTab}\r\n        >\r\n          <div ref={bunRef}>\r\n            <BurgerIngredients productName={\"Булки\"} typeProduct={\"bun\"} />\r\n          </div>\r\n          <div ref={sauceRef}>\r\n            <BurgerIngredients productName={\"Соусы\"} typeProduct={\"sauce\"} />\r\n          </div>\r\n          <div ref={mainRef}>\r\n            <BurgerIngredients productName={\"Начинки\"} typeProduct={\"main\"} />\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className={\"pt-25\"}>\r\n        <BurgerConstructor />\r\n        <BurgerConstructorAll name={\"Оформить заказ\"} />\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default AppMain;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}