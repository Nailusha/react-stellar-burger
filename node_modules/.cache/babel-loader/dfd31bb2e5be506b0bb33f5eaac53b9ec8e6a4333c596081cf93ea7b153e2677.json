{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nailusha\\\\Desktop\\\\yandex-dev\\\\react-stellar-burger\\\\src\\\\components\\\\main\\\\BurgerConstructor\\\\burger-constructor.tsx\",\n  _s = $RefreshSig$();\nimport React, { memo, useCallback } from \"react\";\nimport styles from \"./burger-constructor.module.css\";\nimport { ConstructorElement } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useAppDispatch, useAppSelector } from \"../../../services/hooks/hooks\";\nimport { useDrop } from \"react-dnd\";\nimport { addBun, addIngredient, deliteIngredient } from \"../../../services/store/reducers/burgerConstructorSlice\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { BurgerConstructorCard } from \"./burger-constructor-card/burger-constructor-card\";\nimport { constructorBunSelector } from \"../../../services/store/selector/IngredientsSelector/constructorBunSelector\";\nimport { constructorSelector } from \"../../../services/store/selector/IngredientsSelector/constructorSelector\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BurgerConstructor = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(function BurgerConstructor() {\n  _s();\n  const dispatch = useAppDispatch();\n  const draggedBun = useAppSelector(constructorBunSelector);\n  const draggedIngredients = useAppSelector(constructorSelector);\n  const [{\n    isDropped\n  }, refDrop] = useDrop({\n    accept: \"ingredient\",\n    drop(item) {\n      const itemWithUuId = {\n        ...item,\n        _uuid: uuidv4()\n      };\n      {\n        item.type === \"bun\" ? dispatch(addBun(itemWithUuId)) : dispatch(addIngredient(itemWithUuId));\n      }\n    },\n    collect: monitor => ({\n      isDropped: monitor.isOver()\n    })\n  });\n  const [, drop] = useDrop(() => ({\n    accept: \"card\"\n  }));\n  const handleDeliteElement = useCallback(uuid => {\n    dispatch(deliteIngredient(uuid));\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: refDrop,\n    className: isDropped ? styles.gradient_border : \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bun + \" pl-6 pt-4 pb-4\",\n      children: draggedBun.map(item => {\n        return /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"top\",\n          isLocked: true,\n          text: item.name + \" (Верх)\",\n          price: item.price,\n          thumbnail: item.image\n        }, item._uuid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.itemMidle + \" custom-scroll pr-2\",\n      children: draggedIngredients.filter(card => card.type !== \"bun\").map((card, index) => {\n        return /*#__PURE__*/_jsxDEV(BurgerConstructorCard, {\n          index: index,\n          data: card,\n          handleDeliteElement: handleDeliteElement\n        }, card._uuid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bun + \" pl-6 pt-4\",\n      children: draggedBun.map(item => {\n        return /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"bottom\",\n          isLocked: true,\n          text: item.name + \" (Низ)\",\n          price: item.price,\n          thumbnail: item.image\n        }, item._uuid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}, \"QV5FeBDKJ2AFNq2D+o0/fxE+3IQ=\", false, function () {\n  return [useAppDispatch, useAppSelector, useAppSelector, useDrop, useDrop];\n})), \"QV5FeBDKJ2AFNq2D+o0/fxE+3IQ=\", false, function () {\n  return [useAppDispatch, useAppSelector, useAppSelector, useDrop, useDrop];\n});\n_c2 = BurgerConstructor;\nexport default BurgerConstructor;\nvar _c, _c2;\n$RefreshReg$(_c, \"BurgerConstructor$memo\");\n$RefreshReg$(_c2, \"BurgerConstructor\");","map":{"version":3,"names":["React","memo","useCallback","styles","ConstructorElement","useAppDispatch","useAppSelector","useDrop","addBun","addIngredient","deliteIngredient","v4","uuidv4","BurgerConstructorCard","constructorBunSelector","constructorSelector","jsxDEV","_jsxDEV","BurgerConstructor","_s","_c","dispatch","draggedBun","draggedIngredients","isDropped","refDrop","accept","drop","item","itemWithUuId","_uuid","type","collect","monitor","isOver","handleDeliteElement","uuid","ref","className","gradient_border","children","bun","map","isLocked","text","name","price","thumbnail","image","fileName","_jsxFileName","lineNumber","columnNumber","itemMidle","filter","card","index","data","_c2","$RefreshReg$"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/BurgerConstructor/burger-constructor.tsx"],"sourcesContent":["import React, { memo, useCallback, useState } from \"react\";\r\nimport styles from \"./burger-constructor.module.css\";\r\n\r\nimport { ConstructorElement } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../services/hooks/hooks\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { addBun, addIngredient, deliteIngredient } from \"../../../services/store/reducers/burgerConstructorSlice\";\r\n\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { BurgerConstructorCard } from \"./burger-constructor-card/burger-constructor-card\";\r\nimport { constructorBunSelector } from \"../../../services/store/selector/IngredientsSelector/constructorBunSelector\";\r\nimport { constructorSelector } from \"../../../services/store/selector/IngredientsSelector/constructorSelector\";\r\nimport { TingredintsConstructor } from \"../../../utils/types\";\r\n\r\nconst BurgerConstructor = memo(function BurgerConstructor() {\r\n  const dispatch = useAppDispatch();\r\n  const draggedBun = useAppSelector(constructorBunSelector);\r\n  const draggedIngredients = useAppSelector(constructorSelector);\r\n\r\n\r\n  \r\n  const [{ isDropped }, refDrop] = useDrop({\r\n    accept: \"ingredient\",\r\n    drop(item: TingredintsConstructor) {\r\n      const itemWithUuId = {\r\n        ...item,\r\n        _uuid: uuidv4(),\r\n      };\r\n      {\r\n        item.type === \"bun\"\r\n          ? dispatch(addBun(itemWithUuId))\r\n          : dispatch(addIngredient(itemWithUuId));\r\n      }\r\n    },\r\n    collect: (monitor) => ({\r\n      isDropped: monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  const [, drop] = useDrop(() => ({ accept: \"card\" }));\r\n\r\n  const handleDeliteElement = useCallback((uuid: string)=> {\r\n    dispatch(deliteIngredient(uuid));\r\n  },[dispatch]);\r\n\r\n  return (\r\n    <div ref={refDrop} className={isDropped ? styles.gradient_border : \"\"}>\r\n      <div className={styles.bun + \" pl-6 pt-4 pb-4\"}>      \r\n        {draggedBun.map((item: TingredintsConstructor) => {\r\n          return (\r\n            <ConstructorElement\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text={item.name + \" (Верх)\"}\r\n              price={item.price}\r\n              thumbnail={item.image}\r\n              key={item._uuid}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className={styles.itemMidle + \" custom-scroll pr-2\"}>\r\n        {draggedIngredients\r\n          .filter((card:TingredintsConstructor) => card.type !== \"bun\")\r\n          .map((card:TingredintsConstructor, index: number) => {\r\n            return (\r\n              <BurgerConstructorCard\r\n                key={card._uuid}\r\n                index={index}\r\n                data={card}\r\n                handleDeliteElement={handleDeliteElement}\r\n              />\r\n            );\r\n          })}\r\n      </div>\r\n\r\n      <div className={styles.bun + \" pl-6 pt-4\"}>\r\n        {draggedBun.map((item:TingredintsConstructor) => {\r\n          return (\r\n            <ConstructorElement\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text={item.name + \" (Низ)\"}\r\n              price={item.price}\r\n              thumbnail={item.image}\r\n              key={item._uuid}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default BurgerConstructor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}