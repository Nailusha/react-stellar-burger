{"ast":null,"code":"import React from\"react\";import{useRef}from\"react\";import styles from\"./app-main.module.css\";import BurgerIngingredientsTab from\"../BurgerIngredients/burger-ingredient-tab/burger-ingredient-tab\";import BurgerIngredients from\"../BurgerIngredients/burger-ingredient-head/burger-ingredient-head\";import BurgerConstructorAll from\"../BurgerConstructor/burger-constructor-all/burger-constructor-all\";import BurgerConstructor from\"../BurgerConstructor/burger-constructor\";import{changeTypeTab}from\"../../../services/store/reducers/ingredientsTab\";import{useAppDispatch,useAppSelector}from\"../../../services/hooks/hooks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AppMain(){var dispatch=useAppDispatch();var bunRef=useRef(null);var sauceRef=useRef(null);var mainRef=useRef(null);var current=useAppSelector(function(state){return state.ingredientsTab.typeTab;});function handleTabClick(type){dispatch(changeTypeTab(type));switch(type){case\"bun\":if(bunRef.current!==null){bunRef.current.scrollIntoView({behavior:\"smooth\"});}break;case\"sauce\":if(sauceRef.current!==null){sauceRef.current.scrollIntoView({behavior:\"smooth\"});}break;case\"main\":if(mainRef.current!==null){mainRef.current.scrollIntoView({behavior:\"smooth\"});}break;default:break;}}function handleTab(evt){var target=evt.target;var scrollTop=target.scrollTop;if(sauceRef.current!==null&&bunRef.current!==null&&mainRef.current!==null){var sauceScroll=sauceRef.current.getBoundingClientRect().y-bunRef.current.getBoundingClientRect().y-40;var mainScroll=mainRef.current.getBoundingClientRect().y-bunRef.current.getBoundingClientRect().y-40;if(scrollTop>=mainScroll){dispatch(changeTypeTab(\"main\"));}else if(scrollTop<sauceScroll){dispatch(changeTypeTab(\"bun\"));}else{dispatch(changeTypeTab(\"sauce\"));}}}return/*#__PURE__*/_jsxs(\"main\",{className:styles.main,children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(BurgerIngingredientsTab,{current:current,handleTabClick:handleTabClick}),/*#__PURE__*/_jsxs(\"div\",{className:styles.main_ingredientBlock+\" custom-scroll\",onScroll:handleTab,children:[/*#__PURE__*/_jsx(\"div\",{ref:bunRef,children:/*#__PURE__*/_jsx(BurgerIngredients,{productName:\"Булки\",typeProduct:\"bun\"})}),/*#__PURE__*/_jsx(\"div\",{ref:sauceRef,children:/*#__PURE__*/_jsx(BurgerIngredients,{productName:\"Соусы\",typeProduct:\"sauce\"})}),/*#__PURE__*/_jsx(\"div\",{ref:mainRef,children:/*#__PURE__*/_jsx(BurgerIngredients,{productName:\"Начинки\",typeProduct:\"main\"})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"pt-25\",children:[/*#__PURE__*/_jsx(BurgerConstructor,{}),/*#__PURE__*/_jsx(BurgerConstructorAll,{name:\"Оформить заказ\"})]})]});}export default AppMain;","map":{"version":3,"names":["React","useRef","styles","BurgerIngingredientsTab","BurgerIngredients","BurgerConstructorAll","BurgerConstructor","changeTypeTab","useAppDispatch","useAppSelector","jsx","_jsx","jsxs","_jsxs","AppMain","dispatch","bunRef","sauceRef","mainRef","current","state","ingredientsTab","typeTab","handleTabClick","type","scrollIntoView","behavior","handleTab","evt","target","scrollTop","sauceScroll","getBoundingClientRect","y","mainScroll","className","main","children","main_ingredientBlock","onScroll","ref","productName","typeProduct","name"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/app-main/app-main.tsx"],"sourcesContent":["import React, { SyntheticEvent } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport styles from \"./app-main.module.css\";\r\n\r\nimport BurgerIngingredientsTab from \"../BurgerIngredients/burger-ingredient-tab/burger-ingredient-tab\";\r\nimport BurgerIngredients from \"../BurgerIngredients/burger-ingredient-head/burger-ingredient-head\";\r\nimport BurgerConstructorAll from \"../BurgerConstructor/burger-constructor-all/burger-constructor-all\";\r\nimport BurgerConstructor from \"../BurgerConstructor/burger-constructor\";\r\n\r\nimport { changeTypeTab } from \"../../../services/store/reducers/ingredientsTab\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../services/hooks/hooks\";\r\n\r\nfunction AppMain() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const bunRef = useRef<HTMLHeadingElement>(null);\r\n  const sauceRef = useRef<HTMLHeadingElement>(null);\r\n  const mainRef = useRef<HTMLHeadingElement>(null);\r\n\r\n  const current = useAppSelector((state) => state.ingredientsTab.typeTab);\r\n\r\n  function handleTabClick(type: string) {\r\n    dispatch(changeTypeTab(type));\r\n\r\n    switch (type) {\r\n      case \"bun\":\r\n        if (bunRef.current !== null) {\r\n          bunRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        }\r\n        break;\r\n\r\n      case \"sauce\":\r\n        if (sauceRef.current !== null) {\r\n          sauceRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        }\r\n        break;\r\n\r\n      case \"main\":\r\n        if (mainRef.current !== null) {\r\n          mainRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  function handleTab(evt: SyntheticEvent) {\r\n    const target = evt.target as HTMLDivElement;\r\n    const scrollTop = target.scrollTop;\r\n    if (\r\n      sauceRef.current !== null &&\r\n      bunRef.current !== null &&\r\n      mainRef.current !== null\r\n    ) {\r\n      const sauceScroll =\r\n        sauceRef.current.getBoundingClientRect().y -\r\n        bunRef.current.getBoundingClientRect().y -\r\n        40;\r\n      const mainScroll =\r\n        mainRef.current.getBoundingClientRect().y -\r\n        bunRef.current.getBoundingClientRect().y -\r\n        40;\r\n\r\n      if (scrollTop >= mainScroll) {\r\n        dispatch(changeTypeTab(\"main\"));\r\n      } else if (scrollTop < sauceScroll) {\r\n        dispatch(changeTypeTab(\"bun\"));\r\n      } else {\r\n        dispatch(changeTypeTab(\"sauce\"));\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className={styles.main}>\r\n      <section>\r\n        <BurgerIngingredientsTab\r\n          current={current}\r\n          handleTabClick={handleTabClick}\r\n        />\r\n        <div\r\n          className={styles.main_ingredientBlock + \" custom-scroll\"}\r\n          onScroll={handleTab}\r\n        >\r\n          <div ref={bunRef}>\r\n            <BurgerIngredients productName={\"Булки\"} typeProduct={\"bun\"} />\r\n          </div>\r\n          <div ref={sauceRef}>\r\n            <BurgerIngredients productName={\"Соусы\"} typeProduct={\"sauce\"} />\r\n          </div>\r\n          <div ref={mainRef}>\r\n            <BurgerIngredients productName={\"Начинки\"} typeProduct={\"main\"} />\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className={\"pt-25\"}>\r\n        <BurgerConstructor />\r\n        <BurgerConstructorAll name={\"Оформить заказ\"} />\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default AppMain;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}