{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nailusha\\\\Desktop\\\\yandex-dev\\\\react-stellar-burger\\\\src\\\\components\\\\main\\\\app-main\\\\app-main.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport styles from \"./app-main.module.css\";\nimport BurgerIngredientTab from \"../BurgerIngredients/burger-ingredient-tab/burger-ingredient-tab\";\nimport BurgerConstructorAll from \"../BurgerConstructor/burger-constructor-all/burger-constructor-all\";\nimport BurgerConstructor from \"../BurgerConstructor/burger-constructor\";\nimport BurgerIngredients from \"../BurgerIngredients/burger-ingredient-head/burger-ingredient-head\";\nimport { useRef } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { changeTypeTab } from \"../../../../services/store/reducers/ingredientsTab\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AppMain() {\n  _s();\n  const dispatch = useDispatch();\n  const bunRef = useRef(null);\n  const sauceRef = useRef(null);\n  const mainRef = useRef(null);\n  const current = useSelector(state => state.ingredientsTab.typeTab);\n  function handleTabClick(type) {\n    dispatch(changeTypeTab(type));\n    switch (type) {\n      case \"bun\":\n        bunRef.current.scrollIntoView({\n          behavior: \"smooth\"\n        });\n        break;\n      case \"sauce\":\n        sauceRef.current.scrollIntoView({\n          behavior: \"smooth\"\n        });\n        break;\n      case \"main\":\n        mainRef.current.scrollIntoView({\n          behavior: \"smooth\"\n        });\n        break;\n      default:\n        break;\n    }\n  }\n  function handleTab(evt) {\n    const target = evt.target;\n    const scrollTop = target.scrollTop;\n    const sauceScroll = sauceRef.current.getBoundingClientRect().y - bunRef.current.getBoundingClientRect().y - 40;\n    const mainScroll = mainRef.current.getBoundingClientRect().y - bunRef.current.getBoundingClientRect().y - 40;\n    if (scrollTop >= mainScroll) {\n      dispatch(changeTypeTab(\"main\"));\n    } else if (scrollTop < sauceScroll) {\n      dispatch(changeTypeTab(\"bun\"));\n    } else {\n      dispatch(changeTypeTab(\"sauce\"));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: styles.main,\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(BurgerIngredientTab, {\n        current: current,\n        handleTabClick: handleTabClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.main_ingredientBlock + \" custom-scroll\",\n        onScroll: handleTab,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: bunRef,\n          children: /*#__PURE__*/_jsxDEV(BurgerIngredients, {\n            productName: \"Булки\",\n            typeProduct: \"bun\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: sauceRef,\n          children: /*#__PURE__*/_jsxDEV(BurgerIngredients, {\n            productName: \"Соусы\",\n            typeProduct: \"sauce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: mainRef,\n          children: /*#__PURE__*/_jsxDEV(BurgerIngredients, {\n            productName: \"Начинки\",\n            typeProduct: \"main\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"pt-25\",\n      children: [/*#__PURE__*/_jsxDEV(BurgerConstructor, {\n        index: 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BurgerConstructorAll, {\n        name: \"Оформить заказ\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(AppMain, \"/ydKuZFDfO6K9NSOMelVwr9C0IY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = AppMain;\nexport default AppMain;\nvar _c;\n$RefreshReg$(_c, \"AppMain\");","map":{"version":3,"names":["React","styles","BurgerIngredientTab","BurgerConstructorAll","BurgerConstructor","BurgerIngredients","useRef","useDispatch","useSelector","changeTypeTab","jsxDEV","_jsxDEV","AppMain","_s","dispatch","bunRef","sauceRef","mainRef","current","state","ingredientsTab","typeTab","handleTabClick","type","scrollIntoView","behavior","handleTab","evt","target","scrollTop","sauceScroll","getBoundingClientRect","y","mainScroll","className","main","children","fileName","_jsxFileName","lineNumber","columnNumber","main_ingredientBlock","onScroll","ref","productName","typeProduct","index","name","_c","$RefreshReg$"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/app-main/app-main.jsx"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./app-main.module.css\";\r\n\r\nimport BurgerIngredientTab from \"../BurgerIngredients/burger-ingredient-tab/burger-ingredient-tab\";\r\nimport BurgerConstructorAll from \"../BurgerConstructor/burger-constructor-all/burger-constructor-all\";\r\nimport BurgerConstructor from \"../BurgerConstructor/burger-constructor\";\r\nimport BurgerIngredients from \"../BurgerIngredients/burger-ingredient-head/burger-ingredient-head\";\r\n\r\nimport { useRef } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { changeTypeTab } from \"../../../../services/store/reducers/ingredientsTab\";\r\n\r\nfunction AppMain() {\r\n  const dispatch = useDispatch();\r\n\r\n  const bunRef = useRef(null);\r\n  const sauceRef = useRef(null);\r\n  const mainRef = useRef(null);\r\n\r\n  const current = useSelector((state) => state.ingredientsTab.typeTab);\r\n\r\n  function handleTabClick(type) {\r\n    dispatch(changeTypeTab(type));\r\n\r\n    switch (type) {\r\n      case \"bun\":\r\n        bunRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        break;\r\n\r\n      case \"sauce\":\r\n        sauceRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        break;\r\n\r\n      case \"main\":\r\n        mainRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  function handleTab(evt) {\r\n    const target = evt.target;\r\n    const scrollTop = target.scrollTop;\r\n    const sauceScroll =\r\n      sauceRef.current.getBoundingClientRect().y -\r\n      bunRef.current.getBoundingClientRect().y -\r\n      40;\r\n    const mainScroll =\r\n      mainRef.current.getBoundingClientRect().y -\r\n      bunRef.current.getBoundingClientRect().y -\r\n      40;\r\n\r\n    if (scrollTop >= mainScroll) {\r\n      dispatch(changeTypeTab(\"main\"));\r\n    } else if (scrollTop < sauceScroll) {\r\n      dispatch(changeTypeTab(\"bun\"));\r\n    } else {\r\n      dispatch(changeTypeTab(\"sauce\"));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className={styles.main}>\r\n      <section>\r\n        <BurgerIngredientTab\r\n          current={current}\r\n          handleTabClick={handleTabClick}\r\n        />\r\n\r\n        <div\r\n          className={styles.main_ingredientBlock + \" custom-scroll\"}\r\n          onScroll={handleTab}\r\n        >\r\n          <div ref={bunRef}>\r\n            <BurgerIngredients productName={\"Булки\"} typeProduct={\"bun\"} />\r\n          </div>\r\n          <div ref={sauceRef}>\r\n            <BurgerIngredients productName={\"Соусы\"} typeProduct={\"sauce\"} />\r\n          </div>\r\n          <div ref={mainRef}>\r\n            <BurgerIngredients productName={\"Начинки\"} typeProduct={\"main\"} />\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className={\"pt-25\"}>\r\n        <BurgerConstructor index={0} />\r\n        <BurgerConstructorAll name={\"Оформить заказ\"} />\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default AppMain;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}