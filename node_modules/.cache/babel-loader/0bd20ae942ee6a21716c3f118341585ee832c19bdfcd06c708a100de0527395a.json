{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nailusha\\\\Desktop\\\\yandex-dev\\\\react-stellar-burger\\\\src\\\\components\\\\main\\\\BurgerConstructor\\\\burger-constructor.jsx\",\n  _s = $RefreshSig$();\nimport React, { memo, useCallback, useState } from \"react\";\nimport styles from \"./burger-constructor.module.css\";\nimport { ConstructorElement } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport { addBun, addIngredient, deliteIngredient, removeList } from \"../\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { BurgerConstructorCard } from \"./burger-constructor-card/burger-constructor-card\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BurgerConstructor = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(function BurgerConstructor(_ref) {\n  _s();\n  let {\n    data,\n    index\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    draggedBun,\n    draggedIngredients\n  } = useSelector(state => state.constIngredient);\n  const {\n    selctIngredient,\n    clickStutus,\n    count\n  } = useSelector(state => state.ingredDetails);\n  const {\n    bun,\n    ingredients,\n    isLoding\n  } = useSelector(state => state.ingredients);\n  const [{\n    isDropped\n  }, refDrop] = useDrop({\n    accept: \"ingredient\",\n    drop(item) {\n      const itemWithUuId = {\n        ...item,\n        _uuid: uuidv4()\n      };\n      {\n        item.type === \"bun\" ? dispatch(addBun(itemWithUuId)) : dispatch(addIngredient(itemWithUuId));\n      }\n    },\n    collect: monitor => ({\n      isDropped: monitor.isOver()\n    })\n  });\n  const [, drop] = useDrop(() => ({\n    accept: \"card\"\n  }));\n  const handleDeliteElement = useCallback(uuid => {\n    dispatch(deliteIngredient(uuid));\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: refDrop,\n    className: isDropped ? styles.gradient_border : {},\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bun + \" pl-6 pt-4 pb-4\",\n      children: draggedBun.map(item => {\n        return /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"top\",\n          isLocked: true,\n          text: item.name + \" (Верх)\",\n          price: item.price,\n          thumbnail: item.image\n        }, item._uuid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.itemMidle + \" custom-scroll pr-2\",\n      children: draggedIngredients.filter(card => card.type !== \"bun\").map((card, index) => {\n        return /*#__PURE__*/_jsxDEV(BurgerConstructorCard, {\n          index: index,\n          data: card,\n          handleDeliteElement: handleDeliteElement\n        }, card._uuid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bun + \" pl-6 pt-4\",\n      children: draggedBun.map(item => {\n        return /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"bottom\",\n          isLocked: true,\n          text: item.name + \" (Низ)\",\n          price: item.price,\n          thumbnail: item.image\n        }, item._uuid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}, \"dg0lTwrNqxAZtOmWfq8U8FGmdps=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useDrop, useDrop];\n})), \"dg0lTwrNqxAZtOmWfq8U8FGmdps=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useDrop, useDrop];\n});\n_c2 = BurgerConstructor;\nexport default BurgerConstructor;\nvar _c, _c2;\n$RefreshReg$(_c, \"BurgerConstructor$memo\");\n$RefreshReg$(_c2, \"BurgerConstructor\");","map":{"version":3,"names":["React","memo","useCallback","useState","styles","ConstructorElement","useDispatch","useSelector","useDrag","useDrop","addBun","addIngredient","deliteIngredient","removeList","v4","uuidv4","BurgerConstructorCard","jsxDEV","_jsxDEV","BurgerConstructor","_s","_c","_ref","data","index","dispatch","draggedBun","draggedIngredients","state","constIngredient","selctIngredient","clickStutus","count","ingredDetails","bun","ingredients","isLoding","isDropped","refDrop","accept","drop","item","itemWithUuId","_uuid","type","collect","monitor","isOver","handleDeliteElement","uuid","ref","className","gradient_border","children","map","isLocked","text","name","price","thumbnail","image","fileName","_jsxFileName","lineNumber","columnNumber","itemMidle","filter","card","_c2","$RefreshReg$"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/BurgerConstructor/burger-constructor.jsx"],"sourcesContent":["import React, { memo, useCallback, useState } from \"react\";\r\nimport styles from \"./burger-constructor.module.css\";\r\n\r\nimport { ConstructorElement } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { addBun, addIngredient, deliteIngredient, removeList } from \"../\";\r\n\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { BurgerConstructorCard } from \"./burger-constructor-card/burger-constructor-card\";\r\n\r\nconst BurgerConstructor = memo(function BurgerConstructor({ data, index }) {\r\n  const dispatch = useDispatch();\r\n  const { draggedBun, draggedIngredients } = useSelector(\r\n    (state) => state.constIngredient\r\n  );\r\n  const { selctIngredient, clickStutus, count } = useSelector(\r\n    (state) => state.ingredDetails\r\n  );\r\n\r\n  const { bun, ingredients, isLoding } = useSelector(\r\n    (state) => state.ingredients\r\n  );\r\n\r\n  const [{ isDropped }, refDrop] = useDrop({\r\n    accept: \"ingredient\",\r\n    drop(item) {\r\n      const itemWithUuId = {\r\n        ...item,\r\n        _uuid: uuidv4(),\r\n      };\r\n      {\r\n        item.type === \"bun\"\r\n          ? dispatch(addBun(itemWithUuId))\r\n          : dispatch(addIngredient(itemWithUuId));\r\n      }\r\n    },\r\n    collect: (monitor) => ({\r\n      isDropped: monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  const [, drop] = useDrop(() => ({ accept: \"card\" }));\r\n\r\n  const handleDeliteElement = useCallback((uuid) => {\r\n    dispatch(deliteIngredient(uuid));\r\n  });\r\n\r\n  return (\r\n    <div ref={refDrop} className={isDropped ? styles.gradient_border : {}}>\r\n      <div className={styles.bun + \" pl-6 pt-4 pb-4\"}>\r\n        {draggedBun.map((item) => {\r\n          return (\r\n            <ConstructorElement\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text={item.name + \" (Верх)\"}\r\n              price={item.price}\r\n              thumbnail={item.image}\r\n              key={item._uuid}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className={styles.itemMidle + \" custom-scroll pr-2\"}>\r\n        {draggedIngredients\r\n          .filter((card) => card.type !== \"bun\")\r\n          .map((card, index) => {\r\n            return (\r\n              <BurgerConstructorCard\r\n                key={card._uuid}\r\n                index={index}\r\n                data={card}\r\n                handleDeliteElement={handleDeliteElement}\r\n              />\r\n            );\r\n          })}\r\n      </div>\r\n\r\n      <div className={styles.bun + \" pl-6 pt-4\"}>\r\n        {draggedBun.map((item) => {\r\n          return (\r\n            <ConstructorElement\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text={item.name + \" (Низ)\"}\r\n              price={item.price}\r\n              thumbnail={item.image}\r\n              key={item._uuid}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default BurgerConstructor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}