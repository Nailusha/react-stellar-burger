{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nailusha\\\\Desktop\\\\yandex-dev\\\\react-stellar-burger\\\\src\\\\components\\\\main\\\\app-main\\\\app-main.tsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Feed() {\n  _s();\n  const dispatch = useAppDispatch();\n  const ordersInf = useAppSelector(allOrdersInf);\n  const ordersData = ordersInf && ordersInf.orders;\n  const ingredientsData = useAppSelector(ingredientSelector);\n  const location = useLocation();\n  function price(item) {\n    let totalPrice = 0;\n    if (item) {\n      item.ingredients.forEach(ingrAll => {\n        ingredientsData.forEach(itemData => {\n          if (itemData._id === ingrAll) {\n            totalPrice += itemData.type === \"bun\" ? itemData.price * 2 : itemData.price;\n          }\n        });\n      });\n    }\n    return totalPrice;\n  }\n  useEffect(() => {\n    dispatch(connect(ORDERS_ALL));\n    return () => {\n      wsClose();\n    };\n  }, []);\n  return ordersData && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.main,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: `text text_type_main-large mb-5 mt-10  ${styles.title}`,\n      children: \"\\u041B\\u0435\\u043D\\u0442\\u0430 \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: `${styles.orders} custom-scroll pr-2`,\n      children: ordersData.map(item => {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          className: styles.link,\n          to: `${item.number}`,\n          state: {\n            background: location\n          },\n          children: /*#__PURE__*/_jsxDEV(OrderCard, {\n            ordersData: item,\n            price: price(item)\n          }, item._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this)\n        }, item._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.stats,\n      children: /*#__PURE__*/_jsxDEV(OrderStats, {\n        ordersInf: ordersInf,\n        number: \"\",\n        _id: \"\",\n        status: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }, this);\n}\n_s(Feed, \"svDn/k3CZAJoe7oOsPr6tLxhpd4=\", true);\n_c = Feed;\nvar _c;\n$RefreshReg$(_c, \"Feed\");","map":{"version":3,"names":["Feed","_s","dispatch","useAppDispatch","ordersInf","useAppSelector","allOrdersInf","ordersData","orders","ingredientsData","ingredientSelector","location","useLocation","price","item","totalPrice","ingredients","forEach","ingrAll","itemData","_id","type","useEffect","connect","ORDERS_ALL","wsClose","_jsxDEV","className","styles","main","children","title","fileName","_jsxFileName","lineNumber","columnNumber","map","Link","link","to","number","state","background","OrderCard","stats","OrderStats","status","_c","$RefreshReg$"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/app-main/app-main.tsx"],"sourcesContent":["export default function Feed() {\r\n  const dispatch = useAppDispatch();\r\n  const ordersInf = useAppSelector(allOrdersInf);\r\n  const ordersData = ordersInf && ordersInf.orders;\r\n  const ingredientsData = useAppSelector(ingredientSelector);\r\n  const location = useLocation();\r\n\r\n  function price(item:TFeedOrder) {\r\n    let totalPrice = 0;\r\n    if (item) {\r\n      item.ingredients.forEach((ingrAll) => {\r\n        ingredientsData.forEach(\r\n          (itemData: { _id: string; type: string; price: number }) => {\r\n            if (itemData._id === ingrAll) {\r\n              totalPrice +=\r\n                itemData.type === \"bun\" ? itemData.price * 2 : itemData.price;\r\n            }\r\n          }\r\n        );\r\n      });\r\n    }\r\n    return totalPrice;\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(connect(ORDERS_ALL));\r\n\r\n    return () => {\r\n      wsClose();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    ordersData && (\r\n      <div className={styles.main}>\r\n        <h1 className={`text text_type_main-large mb-5 mt-10  ${styles.title}`}>\r\n          Лента заказов\r\n        </h1>\r\n        <section className={`${styles.orders} custom-scroll pr-2`}>\r\n          {ordersData.map((item) => {\r\n            return (\r\n              <Link\r\n                className={styles.link}\r\n                key={item._id}\r\n                to={`${item.number}`}\r\n                state={{ background: location }}\r\n              >\r\n                <OrderCard\r\n                  key={item._id}\r\n                  ordersData={item}\r\n                  price={price(item)}\r\n                />\r\n              </Link>\r\n            );\r\n          })}\r\n        </section>\r\n        <div className={styles.stats}>\r\n          <OrderStats ordersInf={ordersInf} number={\"\"} _id={\"\"} status={\"\"} />\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}"],"mappings":";;;AAAA,eAAe,SAASA,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAMC,QAAQ,GAAGC,cAAc,EAAE;EACjC,MAAMC,SAAS,GAAGC,cAAc,CAACC,YAAY,CAAC;EAC9C,MAAMC,UAAU,GAAGH,SAAS,IAAIA,SAAS,CAACI,MAAM;EAChD,MAAMC,eAAe,GAAGJ,cAAc,CAACK,kBAAkB,CAAC;EAC1D,MAAMC,QAAQ,GAAGC,WAAW,EAAE;EAE9B,SAASC,KAAKA,CAACC,IAAe,EAAE;IAC9B,IAAIC,UAAU,GAAG,CAAC;IAClB,IAAID,IAAI,EAAE;MACRA,IAAI,CAACE,WAAW,CAACC,OAAO,CAAEC,OAAO,IAAK;QACpCT,eAAe,CAACQ,OAAO,CACpBE,QAAsD,IAAK;UAC1D,IAAIA,QAAQ,CAACC,GAAG,KAAKF,OAAO,EAAE;YAC5BH,UAAU,IACRI,QAAQ,CAACE,IAAI,KAAK,KAAK,GAAGF,QAAQ,CAACN,KAAK,GAAG,CAAC,GAAGM,QAAQ,CAACN,KAAK;UACjE;QACF,CAAC,CACF;MACH,CAAC,CAAC;IACJ;IACA,OAAOE,UAAU;EACnB;EAGAO,SAAS,CAAC,MAAM;IACdpB,QAAQ,CAACqB,OAAO,CAACC,UAAU,CAAC,CAAC;IAE7B,OAAO,MAAM;MACXC,OAAO,EAAE;IACX,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OACElB,UAAU,iBACRmB,OAAA;IAAKC,SAAS,EAAEC,MAAM,CAACC,IAAK;IAAAC,QAAA,gBAC1BJ,OAAA;MAAIC,SAAS,EAAG,yCAAwCC,MAAM,CAACG,KAAM,EAAE;MAAAD,QAAA,EAAC;IAExE;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eACLT,OAAA;MAASC,SAAS,EAAG,GAAEC,MAAM,CAACpB,MAAO,qBAAqB;MAAAsB,QAAA,EACvDvB,UAAU,CAAC6B,GAAG,CAAEtB,IAAI,IAAK;QACxB,oBACEY,OAAA,CAACW,IAAI;UACHV,SAAS,EAAEC,MAAM,CAACU,IAAK;UAEvBC,EAAE,EAAG,GAAEzB,IAAI,CAAC0B,MAAO,EAAE;UACrBC,KAAK,EAAE;YAAEC,UAAU,EAAE/B;UAAS,CAAE;UAAAmB,QAAA,eAEhCJ,OAAA,CAACiB,SAAS;YAERpC,UAAU,EAAEO,IAAK;YACjBD,KAAK,EAAEA,KAAK,CAACC,IAAI;UAAE,GAFdA,IAAI,CAACM,GAAG;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAGb,GARGrB,IAAI,CAACM,GAAG;UAAAY,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QASR;MAEX,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACM,eACVT,OAAA;MAAKC,SAAS,EAAEC,MAAM,CAACgB,KAAM;MAAAd,QAAA,eAC3BJ,OAAA,CAACmB,UAAU;QAACzC,SAAS,EAAEA,SAAU;QAACoC,MAAM,EAAE,EAAG;QAACpB,GAAG,EAAE,EAAG;QAAC0B,MAAM,EAAE;MAAG;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAG;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACjE;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAET;AAEL;AAAClC,EAAA,CA/DuBD,IAAI;AAAA+C,EAAA,GAAJ/C,IAAI;AAAA,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}