{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nailusha\\\\Desktop\\\\yandex-dev\\\\react-stellar-burger\\\\src\\\\components\\\\main\\\\BurgerConstructor\\\\burger-constructor.tsx\",\n  _s = $RefreshSig$();\nimport React, { memo, useCallback } from \"react\";\nimport styles from \"./burger-constructor.module.css\";\nimport { ConstructorElement } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDrop } from \"react-dnd\";\nimport { addBun, addIngredient, deliteIngredient } from \"../../../services/store/reducers/burgerConstructorSlice\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { constructorBunSelector } from \"../../../services/store/selector/IngredientsSelector/constructorBunSelector\";\nimport { constructorSelector } from \"../../../services/store/selectors/IngredientsSelector/constructorSelector\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BurgerConstructor = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(function BurgerConstructor() {\n  _s();\n  const dispatch = useAppDispatch();\n  const draggedBun = useAppSelector(constructorBunSelector);\n  const draggedIngredients = useAppSelector(constructorSelector);\n  const [{\n    isDropped\n  }, refDrop] = useDrop({\n    accept: \"ingredient\",\n    drop(item) {\n      const itemWithUuId = {\n        ...item,\n        _uuid: uuidv4()\n      };\n      {\n        item.type === \"bun\" ? dispatch(addBun(itemWithUuId)) : dispatch(addIngredient(itemWithUuId));\n      }\n      console.log(item);\n    },\n    collect: monitor => ({\n      isDropped: monitor.isOver()\n    })\n  });\n  const [, drop] = useDrop(() => ({\n    accept: \"card\"\n  }));\n  const handleDeliteElement = useCallback(uuid => {\n    dispatch(deliteIngredient(uuid));\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: refDrop,\n    className: isDropped ? styles.gradient_border : \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bun + \" pl-6 pt-4 pb-4\",\n      children: draggedBun.map(item => {\n        return /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"top\",\n          isLocked: true,\n          text: item.name + \" (Верх)\",\n          price: item.price,\n          thumbnail: item.image\n        }, item._uuid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.itemMidle + \" custom-scroll pr-2\",\n      children: draggedIngredients.filter(card => card.type !== \"bun\").map((card, index) => {\n        return /*#__PURE__*/_jsxDEV(BurgerConstruectorCard, {\n          index: index,\n          data: card,\n          handleDeliteElement: handleDeliteElement\n        }, card._uuid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bun + \" pl-6 pt-4\",\n      children: draggedBun.map(item => {\n        return /*#__PURE__*/_jsxDEV(ConstructorElement, {\n          type: \"bottom\",\n          isLocked: true,\n          text: item.name + \" (Низ)\",\n          price: item.price,\n          thumbnail: item.image\n        }, item._uuid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}, \"QV5FeBDKJ2AFNq2D+o0/fxE+3IQ=\", true, function () {\n  return [useDrop, useDrop];\n})), \"QV5FeBDKJ2AFNq2D+o0/fxE+3IQ=\", true, function () {\n  return [useDrop, useDrop];\n});\n_c2 = BurgerConstructor;\nexport default BurgerConstructor;\nvar _c, _c2;\n$RefreshReg$(_c, \"BurgerConstructor$memo\");\n$RefreshReg$(_c2, \"BurgerConstructor\");","map":{"version":3,"names":["React","memo","useCallback","styles","ConstructorElement","useDrop","addBun","addIngredient","deliteIngredient","v4","uuidv4","constructorBunSelector","constructorSelector","jsxDEV","_jsxDEV","BurgerConstructor","_s","_c","dispatch","useAppDispatch","draggedBun","useAppSelector","draggedIngredients","isDropped","refDrop","accept","drop","item","itemWithUuId","_uuid","type","console","log","collect","monitor","isOver","handleDeliteElement","uuid","ref","className","gradient_border","children","bun","map","isLocked","text","name","price","thumbnail","image","fileName","_jsxFileName","lineNumber","columnNumber","itemMidle","filter","card","index","BurgerConstruectorCard","data","_c2","$RefreshReg$"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/BurgerConstructor/burger-constructor.tsx"],"sourcesContent":["import React, { memo, useCallback, useState } from \"react\";\r\nimport styles from \"./burger-constructor.module.css\";\r\n\r\nimport { ConstructorElement } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { addBun, addIngredient, deliteIngredient, removeList } from \"../../../services/store/reducers/burgerConstructorSlice\";\r\n\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { BurgerConstructorCard } from \"./burger-constructor-card/burger-constructor-card\";\r\nimport { constructorBunSelector } from \"../../../services/store/selector/IngredientsSelector/constructorBunSelector\";\r\nimport { constructorSelector } from \"../../../services/store/selectors/IngredientsSelector/constructorSelector\";\r\nimport { TingredintsConstructor } from \"../../../utils/types\";\r\n\r\nconst BurgerConstructor = memo(function BurgerConstructor() {\r\n  const dispatch = useAppDispatch();\r\n  const draggedBun = useAppSelector(constructorBunSelector);\r\n  const draggedIngredients = useAppSelector(constructorSelector);\r\n\r\n\r\n  \r\n  const [{ isDropped }, refDrop] = useDrop({\r\n    accept: \"ingredient\",\r\n    drop(item: TingredintsConstructor) {\r\n      const itemWithUuId = {\r\n        ...item,\r\n        _uuid: uuidv4(),\r\n      };\r\n      {\r\n        item.type === \"bun\"\r\n          ? dispatch(addBun(itemWithUuId))\r\n          : dispatch(addIngredient(itemWithUuId));\r\n      }\r\n      console.log(item);\r\n    },\r\n    collect: (monitor) => ({\r\n      isDropped: monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  const [, drop] = useDrop(() => ({ accept: \"card\" }));\r\n\r\n  const handleDeliteElement = useCallback((uuid: string)=> {\r\n    dispatch(deliteIngredient(uuid));\r\n  },[dispatch]);\r\n\r\n  return (\r\n    <div ref={refDrop} className={isDropped ? styles.gradient_border : \"\"}>\r\n      <div className={styles.bun + \" pl-6 pt-4 pb-4\"}>      \r\n        {draggedBun.map((item: TingredintsConstructor) => {\r\n          return (\r\n            <ConstructorElement\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text={item.name + \" (Верх)\"}\r\n              price={item.price}\r\n              thumbnail={item.image}\r\n              key={item._uuid}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className={styles.itemMidle + \" custom-scroll pr-2\"}>\r\n        {draggedIngredients\r\n          .filter((card:TingredintsConstructor) => card.type !== \"bun\")\r\n          .map((card:TingredintsConstructor, index: number) => {\r\n            return (\r\n              <BurgerConstruectorCard\r\n                key={card._uuid}\r\n                index={index}\r\n                data={card}\r\n                handleDeliteElement={handleDeliteElement}\r\n              />\r\n            );\r\n          })}\r\n      </div>\r\n\r\n      <div className={styles.bun + \" pl-6 pt-4\"}>\r\n        {draggedBun.map((item:TingredintsConstructor) => {\r\n          return (\r\n            <ConstructorElement\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text={item.name + \" (Низ)\"}\r\n              price={item.price}\r\n              thumbnail={item.image}\r\n              key={item._uuid}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default BurgerConstructor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}