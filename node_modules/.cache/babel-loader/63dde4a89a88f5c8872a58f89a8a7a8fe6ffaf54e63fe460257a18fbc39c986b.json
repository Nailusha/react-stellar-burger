{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import styles from\"./burger-constructor-all.module.css\";import{Button,CurrencyIcon}from\"@ya.praktikum/react-developer-burger-ui-components\";import{useNavigate}from\"react-router-dom\";import{useAppDispatch,useAppSelector}from\"../../../../services/hooks/hooks\";import{clickOpen}from\"../../../../services/store/reducers/modalOverlaySlice\";import{clickDetails}from\"../../../../services/store/reducers/orderDetailsSlice\";import{clearOrder}from\"../../../../services/store/reducers/burgerConstructorSlice\";import{sendOrder}from\"../../../../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BurgerConstructorAll(_ref){var name=_ref.name;var _useAppSelector=useAppSelector(function(state){return state.constIngredient;}),draggedBun=_useAppSelector.draggedBun,draggedIngredients=_useAppSelector.draggedIngredients;var isDisabled=useAppSelector(function(store){return store.userStatus.user;});var dispatch=useAppDispatch();var navigate=useNavigate();var onClick=function onClick(){!isDisabled?navigate(\"/login\"):dispatch(clickDetails(true));!isDisabled?navigate(\"/login\"):dispatch(clickOpen(true));dispatch(sendOrder([].concat(_toConsumableArray(draggedBun),_toConsumableArray(draggedIngredients))));isDisabled&&dispatch(clearOrder([]));};return/*#__PURE__*/_jsxs(\"div\",{className:styles.constructorTotal+\" pt-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pr-10\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text_type_digits-medium\",\"data-test\":'total',children:draggedIngredients.reduce(function(acc,data){return acc+data.price;},0)+2*draggedBun.reduce(function(acc,data){return acc+data.price;},0)}),/*#__PURE__*/_jsx(CurrencyIcon,{type:\"primary\"})]}),/*#__PURE__*/_jsx(Button,{disabled:[].concat(_toConsumableArray(draggedBun),_toConsumableArray(draggedIngredients)).length<=0,onClick:onClick,htmlType:\"submit\",type:\"primary\",size:\"large\",children:name})]});}export default BurgerConstructorAll;","map":{"version":3,"names":["styles","Button","CurrencyIcon","useNavigate","useAppDispatch","useAppSelector","clickOpen","clickDetails","clearOrder","sendOrder","jsx","_jsx","jsxs","_jsxs","BurgerConstructorAll","_ref","name","_useAppSelector","state","constIngredient","draggedBun","draggedIngredients","isDisabled","store","userStatus","user","dispatch","navigate","onClick","concat","_toConsumableArray","className","constructorTotal","children","reduce","acc","data","price","type","disabled","length","htmlType","size"],"sources":["C:/Users/Nailusha/Desktop/yandex-dev/react-stellar-burger/src/components/main/BurgerConstructor/burger-constructor-all/burger-constructor-all.tsx"],"sourcesContent":["import styles from \"./burger-constructor-all.module.css\";\r\nimport { Button, CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { useAppDispatch, useAppSelector } from \"../../../../services/hooks/hooks\";\r\nimport { clickOpen } from \"../../../../services/store/reducers/modalOverlaySlice\";\r\nimport { clickDetails } from \"../../../../services/store/reducers/orderDetailsSlice\";\r\nimport { clearOrder } from \"../../../../services/store/reducers/burgerConstructorSlice\";\r\nimport { TingredintsConstructor } from \"../../../../utils/types\";\r\nimport { sendOrder } from \"../../../../utils/api\";\r\n\r\nfunction BurgerConstructorAll({ name }: { name: string }) {\r\n  const { draggedBun, draggedIngredients } = useAppSelector(\r\n    (state) => state.constIngredient\r\n  );\r\n\r\n  const isDisabled = useAppSelector((store) => store.userStatus.user);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const onClick = () => {\r\n    !isDisabled ? navigate(\"/login\") : dispatch(clickDetails(true));\r\n    !isDisabled ? navigate(\"/login\") : dispatch(clickOpen(true));\r\n    dispatch(sendOrder([...draggedBun, ...draggedIngredients]));\r\n    isDisabled && dispatch(clearOrder([]));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.constructorTotal + \" pt-10\"}>\r\n      <div className={\"pr-10\"}>\r\n        <span className=\"text_type_digits-medium\" data-test={'total'}>\r\n          {draggedIngredients.reduce(function (\r\n            acc: number,\r\n            data: TingredintsConstructor\r\n          ) {\r\n            return acc + data.price;\r\n          },\r\n          0) +\r\n            2 *\r\n              draggedBun.reduce(function (\r\n                acc: number,\r\n                data: TingredintsConstructor\r\n              ) {\r\n                return acc + data.price;\r\n              },\r\n              0)}\r\n        </span>\r\n        <CurrencyIcon type=\"primary\" />\r\n      </div>\r\n      <Button\r\n        disabled={[...draggedBun, ...draggedIngredients].length <= 0}\r\n        onClick={onClick}\r\n        htmlType=\"submit\"\r\n        type=\"primary\"\r\n        size=\"large\"\r\n      >\r\n        {name}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BurgerConstructorAll;"],"mappings":"uJAAA,MAAO,CAAAA,MAAM,KAAM,qCAAqC,CACxD,OAASC,MAAM,CAAEC,YAAY,KAAQ,oDAAoD,CACzF,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,OAASC,cAAc,CAAEC,cAAc,KAAQ,kCAAkC,CACjF,OAASC,SAAS,KAAQ,uDAAuD,CACjF,OAASC,YAAY,KAAQ,uDAAuD,CACpF,OAASC,UAAU,KAAQ,4DAA4D,CAEvF,OAASC,SAAS,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElD,QAAS,CAAAC,oBAAoBA,CAAAC,IAAA,CAA6B,IAA1B,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAClC,IAAAC,eAAA,CAA2CZ,cAAc,CACvD,SAACa,KAAK,QAAK,CAAAA,KAAK,CAACC,eAAe,GACjC,CAFOC,UAAU,CAAAH,eAAA,CAAVG,UAAU,CAAEC,kBAAkB,CAAAJ,eAAA,CAAlBI,kBAAkB,CAItC,GAAM,CAAAC,UAAU,CAAGjB,cAAc,CAAC,SAACkB,KAAK,QAAK,CAAAA,KAAK,CAACC,UAAU,CAACC,IAAI,GAAC,CAEnE,GAAM,CAAAC,QAAQ,CAAGtB,cAAc,EAAE,CACjC,GAAM,CAAAuB,QAAQ,CAAGxB,WAAW,EAAE,CAE9B,GAAM,CAAAyB,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CACpB,CAACN,UAAU,CAAGK,QAAQ,CAAC,QAAQ,CAAC,CAAGD,QAAQ,CAACnB,YAAY,CAAC,IAAI,CAAC,CAAC,CAC/D,CAACe,UAAU,CAAGK,QAAQ,CAAC,QAAQ,CAAC,CAAGD,QAAQ,CAACpB,SAAS,CAAC,IAAI,CAAC,CAAC,CAC5DoB,QAAQ,CAACjB,SAAS,IAAAoB,MAAA,CAAAC,kBAAA,CAAKV,UAAU,EAAAU,kBAAA,CAAKT,kBAAkB,GAAE,CAAC,CAC3DC,UAAU,EAAII,QAAQ,CAAClB,UAAU,CAAC,EAAE,CAAC,CAAC,CACxC,CAAC,CAED,mBACEK,KAAA,QAAKkB,SAAS,CAAE/B,MAAM,CAACgC,gBAAgB,CAAG,QAAS,CAAAC,QAAA,eACjDpB,KAAA,QAAKkB,SAAS,CAAE,OAAQ,CAAAE,QAAA,eACtBtB,IAAA,SAAMoB,SAAS,CAAC,yBAAyB,CAAC,YAAW,OAAQ,CAAAE,QAAA,CAC1DZ,kBAAkB,CAACa,MAAM,CAAC,SACzBC,GAAW,CACXC,IAA4B,CAC5B,CACA,MAAO,CAAAD,GAAG,CAAGC,IAAI,CAACC,KAAK,CACzB,CAAC,CACD,CAAC,CAAC,CACA,CAAC,CACCjB,UAAU,CAACc,MAAM,CAAC,SAChBC,GAAW,CACXC,IAA4B,CAC5B,CACA,MAAO,CAAAD,GAAG,CAAGC,IAAI,CAACC,KAAK,CACzB,CAAC,CACD,CAAC,CAAC,EACD,cACP1B,IAAA,CAACT,YAAY,EAACoC,IAAI,CAAC,SAAS,EAAG,GAC3B,cACN3B,IAAA,CAACV,MAAM,EACLsC,QAAQ,CAAE,GAAAV,MAAA,CAAAC,kBAAA,CAAIV,UAAU,EAAAU,kBAAA,CAAKT,kBAAkB,GAAEmB,MAAM,EAAI,CAAE,CAC7DZ,OAAO,CAAEA,OAAQ,CACjBa,QAAQ,CAAC,QAAQ,CACjBH,IAAI,CAAC,SAAS,CACdI,IAAI,CAAC,OAAO,CAAAT,QAAA,CAEXjB,IAAI,EACE,GACL,CAEV,CAEA,cAAe,CAAAF,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}